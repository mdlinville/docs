/*

Add styles or override variables from the theme here.

*/

@import url('https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap');

// First define the base color tokens
// Moon (Grayscale)
$moon-white: #ffffff;
$moon-50: #fafafa;
$moon-100: #f5f6f7;
$moon-200: #e4e6eb;
$moon-250: #dfe0e2;
$moon-300: #d3d7de;
$moon-350: #c1c6cf;
$moon-400: #aeb3bd;
$moon-500: #79808a;
$moon-600: #565c66;
$moon-650: #4a4f58;
$moon-700: #3f464f;
$moon-750: #363c44;
$moon-800: #2b3038;
$moon-900: #1a1d24;
$moon-950: #171a1f;

// Teal colors
$teal-300: #a9edf2;
$teal-400: #58d3db;
$teal-450: #10bfcc;
$teal-500: #13a9ba;
$teal-550: #0e97a7;
$teal-600: #038194;

// Border colors
$border-default: $moon-200;      // Using moon-200 instead of moon-250
$border-hover: $moon-350;        // color/moon/350
$dark-border-default: $moon-750; // color/moon/750
$dark-border-hover: $moon-650;   // color/moon/650

// Border radius
$border-radius-medium: 8px;   // Used for most components
$border-radius-large: 12px;   // Used for modals and larger components

// Then define the semantic color tokens
// Text colors
$text-primary: $moon-800;    // color/moon/800
$text-secondary: $moon-600;  // color/moon/600
$text-tertiary: $moon-500;   // color/moon/500
$text-disabled: $moon-350;   // color/moon/350

// Link colors  
$link-primary: $teal-600;    // color/teal/600
$link-hover: $teal-550;      // color/teal/550
$link-secondary: $moon-600;  // color/moon/600
$link-secondary-hover: $moon-500; // color/moon/500

// Background colors
$bg-primary: $moon-white;    // White background
$bg-secondary: $moon-50;     // color/moon/50 
$bg-tertiary: $moon-100;     // color/moon/100
$bg-disabled: $moon-350;     // color/moon/350

// Dark mode colors
$dark-text-primary: $moon-200;    // color/moon/200
$dark-text-secondary: $moon-400;  // color/moon/400  
$dark-text-tertiary: $moon-500;   // color/moon/500
$dark-text-disabled: $moon-650;   // color/moon/650

$dark-link-primary: $teal-500;    // color/teal/500
$dark-link-hover: $teal-450;      // color/teal/450
$dark-link-secondary: $moon-600;  // color/moon/600
$dark-link-secondary-hover: $moon-500; // color/moon/500

$dark-bg-primary: $moon-900;      // color/moon/900
$dark-bg-secondary: $moon-800;    // color/moon/800
$dark-bg-tertiary: $moon-700;     // color/moon/700
$dark-bg-disabled: $moon-650;     // color/moon/650

// Other brand colors
$nav-bg: rgb(26, 28, 31);
$wandb-gold: #FFCC33;
$wandb-link-blue: rgb(7, 177, 196);
$hover-bg: #A9EDF248;

// Gradients
$sunset-gradient: linear-gradient(98deg, #e180ff 0%, #ffcf4d 100%);
$wandb-gradient: linear-gradient(180deg, #ffcc33 39%, #ffad33 72%);

// Font weights
$font-weight-light: 300;
$font-weight-regular: 400;
$font-weight-medium: 500;
$font-weight-semibold: 600;
$font-weight-bold: 700;

// Typography Component
// Base body styles
body {
    font-family: "Source Sans Pro", sans-serif;
    font-size: 16px;
    font-weight: $font-weight-regular;
    color: $text-primary;
    background-color: $bg-primary;

    [data-bs-theme=dark] & {
        color: $dark-text-primary;
        background-color: $dark-bg-primary;
    }
}

// Headings
h1, h2, h3, h4, h5, h6 {
    font-weight: $font-weight-regular !important;
    font-family: "Source Serif 4", sans-serif;
    color: $text-primary;

    [data-bs-theme=dark] & {
        color: $dark-text-primary;
    }
}

// Heading sizes
h1, .td-content h1 { font-size: 32px !important; }
h2, .td-content h2 { font-size: 24px !important; }
h3, .td-content h3 { font-size: 20px !important; }
h4, .td-content h4 { font-size: 16px !important; }
h5, .td-content h5 { font-size: 14px !important; }
h6, .td-content h6 { font-size: 12px !important; }

// Lead paragraph
.td-content .lead {
    font-size: 16px !important;
    font-weight: 400 !important;
}

// Reading time
.reading-time {
    font-size: 14px;
    color: $text-secondary;

    [data-bs-theme=dark] & {
        color: $dark-text-secondary;
    }
}

// Links
a {
    color: $link-primary !important;
    text-decoration: none !important;
    
    &:hover {
        color: $link-hover !important;
        text-decoration: none !important;
    }

    [data-bs-theme=dark] & {
        color: $dark-link-primary !important;
        
        &:hover {
            color: $dark-link-hover !important;
        }
    }
}

// hide "create child" and "create project issue" links
.td-page-meta__child, .td-page-meta__project-issue { display: none !important; }

// shrink the right nav a bit
.td-page-meta {
    font-size: 16px !important;
    a {
        padding-bottom: 15px;
        line-height: 22px;
    }
}

// hide taxonomy cloud on right and top
.taxonomy-terms-cloud, .taxonomy-terms-article { display: none; }

// hide left nav label 
.tree-root { display: none !important;}

// Target links in the navigation and make them white with consistent font-weight
.td-navbar .nav-link {
    color: $moon-white !important;
    font-weight: $font-weight-regular !important;  // Ensure consistent font-weight in main nav

    &:hover {
        color: $wandb-gold !important;
        text-decoration: none !important;
    }
}

// Align left-nav with logo
.td-sidebar-nav {
  padding-left: 15px !important;
}
// Ensure active nav link maintains same weight
.nav-link.active {
    border-bottom: 2px solid $wandb-gold !important;
    font-weight: $font-weight-regular !important;  // Keep consistent with other nav links
}

nav.foldable-nav .with-child, nav.foldable-nav .without-child {
  padding-left: 10px !important;
}
// Update existing chevron styles
nav.foldable-nav .ul-1 .with-child {
    & > label {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        position: relative;
        padding-right: 20px; // Space for chevron
        
        // Remove default chevrons
        &:before {
            display: none !important;
        }
    }
}

// Add chevrons to all expandable items
nav.foldable-nav .ul-1 .with-child > label:after {
    content: "\f105" !important; // fa-angle-right (thinner chevron)
    font-family: "Font Awesome 6 Free", "Font Awesome 5 Free";
    font-weight: 900;
    color: $moon-500;
    transition: color 0.3s;
    font-size: 14px;
    position: absolute;
    right: 0px;
    top: 35%;
    transform: translateY(-50%);
}

// Change chevron for expanded items
nav.foldable-nav .ul-1 .with-child > input:checked + label:after {
    content: "\f107" !important; // fa-angle-down (thinner chevron)
}

// Hover states
nav.foldable-nav .ul-1 .with-child > label:hover:after {
    color: $teal-600 !important;
}

// Dark mode hover state
[data-bs-theme=dark] nav.foldable-nav .ul-1 .with-child > label:hover:after {
    color: $wandb-gold !important;
}

// Ensure hover state for nav links doesn't change color
.td-navbar {
    color: $moon-white;
    background-color: $nav-bg !important;

    // Hide the doc site name from top-left
    .navbar-brand__name { 
        display: none; 
    }

    // Navigation links
    .nav-link {
        color: $moon-white !important;
        font-weight: $font-weight-regular !important;

        &:hover {
            color: $wandb-gold !important;
            text-decoration: none !important;
        }

        &.active {
            border-bottom: 2px solid $wandb-gold !important;
            font-weight: $font-weight-regular !important;
        }
    }

    // Dark mode overrides
    [data-bs-theme=dark] & {
        // Add any specific dark mode styles if needed
    }
}

// Apply same background color to navbar when scrolling
.js-navbar-scroll {
    background-color: $nav-bg !important;
}

// headings use WandB serif font
h1, h2, h3, h4, h5, h6 {
    font-weight: $font-weight-regular !important;
    font-family: "Source Serif 4", sans-serif;
    color: $text-primary;
}
h1, .td-content h1 {
    font-size: 32px !important;
}
h2, .td-content h2 {
    font-size: 24px !important;
}
h3, .td-content h3 {
    font-size: 20px !important;
}
h4, .td-content h4 {
    font-size: 16px !important;
}
h5, .td-content h5 {
    font-size: 14px !important;
}
h6, .td-content h6 {
    font-size: 12px !important;
}
.td-sidebar-nav-active-item {
    text-decoration: none;
}

#m-guideshostingiamorg_team_struct-li

.td-sidebar-nav, .td-navbar .nav-link  {
  font-family: "Source Sans Pro", sans-serif;
  a {
    color: $text-secondary !important;
    font-weight: $font-weight-regular;
    text-decoration: none !important;
    &:hover {
      color: $link-primary !important;
      text-decoration: none !important;
    }

    .td-sidebar-nav-active-item {
      color: $link-primary !important;
      text-decoration: none !important;
      font-weight: $font-weight-medium !important;
    }
  }
}

.td-navbar, .js-navbar-scroll {
    background-color: $nav-bg !important;
}

ol.breadcrumb:before {
    content: "üè†Ô∏é" !important;
    color: grey; filter: grayscale(100%);
    margin-right: 10px;
}

.td-sidebar-nav__section-title, .td-sidebar-nav__section {
  margin-bottom: 10px !important;
  margin-top: 5px !important;
}

.td-sidebar-nav__section-title {
    display: block;
    font-weight: $font-weight-regular !important;
    line-height: 19px;
    .active {
        font-weight: $font-weight-regular !important;
    }
    
    a {
        color: var(--bs-secondary-color);
        font-weight: $font-weight-regular !important;
    }
}

.td-content .lead {
    font-size: 16px !important;
    font-weight: 400 !important;
}

// Table of Contents Component
#TableOfContents { 
    margin-top: 15px;
    font-size: 16px !important;
    padding-left: 10px !important;

    // Add "On this page" header
    &:before { 
        content: "On this page"; 
        font-weight: bold; 
        color: $text-primary;

        [data-bs-theme=dark] & {
            color: $dark-text-primary;
        }
    }

    // List styles
    ul { 
        padding-top: 10px !important;
        li {
            padding-bottom: 10px;
            line-height: 22px;
        }
    }

    // Link styles
    a {
        display: block;
        color: $text-secondary !important;
        
        &:hover {
            color: $link-primary !important;
            text-decoration: none !important;
        }

        [data-bs-theme=dark] & {
            color: $dark-text-secondary !important;
            
            &:hover {
                color: $dark-link-primary !important;
            }
        }
    }

    // Dark mode
    [data-bs-theme=dark] & {
        color: $dark-text-primary;
    }
}

// Buttons Component
// Base button styles
.button-base {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    line-height: 20px;
    font-weight: $font-weight-semibold;
    padding: 0 12px;
    min-height: 40px;
    border-radius: $border-radius-medium;
    transition: background-color 0.3s, color 0.3s;
    text-decoration: none !important;
    border: none;
    
    &:hover {
        text-decoration: none !important;
    }
}

// CTA Container styles
.cta-container {
    display: flex;
    align-items: center; // Vertically center the buttons
    gap: 16px; // Consistent spacing between buttons
    margin: 24px 0;
    flex-wrap: wrap; // Allow wrapping on smaller screens
}

// CTA Button
.cta-button {
    @extend .button-base;
    color: $moon-800 !important;
    background-color: $moon-100;
    height: 40px; // Fixed height for consistency
    padding: 0 16px;
    display: inline-flex;
    align-items: center; // Center button contents vertically
    white-space: nowrap; // Prevent text wrapping inside button

    &:hover {
        background-color: $hover-bg;
    }

    // Icon styles
    svg, img {
        width: 24px;
        height: 24px;
        margin-right: 8px;
    }

    [data-bs-theme=dark] & {
        color: $dark-text-primary !important;
        background-color: $dark-bg-secondary;

        &:hover {
            background-color: $dark-bg-tertiary;
        }
    }
}

// Contact Us Button
.contact-us-button {
    @extend .button-base;
    background-color: $teal-500;
    color: $moon-white !important;
    gap: 8px;

    &:hover {
        background-color: $teal-450;
    }

    img {
        width: 112px;
        height: 24px;
    }

    p {
        margin: 0;
        color: $moon-white;
    }

    [data-bs-theme=dark] & {
        background-color: $teal-450;

        &:hover {
            background-color: $teal-400;
        }
    }
}

// Banners Component
// Base banner styles
.banner-base {
    display: flex;
    padding: 32px 40px;
    flex-direction: column;
    align-items: flex-start;
    gap: 24px;
    border-radius: $border-radius-large;
    margin-bottom: 30px;

    h1, h2, p, div {
        filter: drop-shadow(5px 5px 5px rgba(0, 0, 0, 0.5));
    }
}

// Standard Banner
.banner {
    @extend .banner-base;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    min-height: 200px;
    color: $moon-white;
    overflow: hidden;
}

// Help Banner
.help-banner {
    @extend .banner-base;
    padding: 56px 40px 72px 40px;
    background: $moon-900;
    background-image: url('/images/support/support_banner.png');
    background-size: cover;
    background-position: center;
    box-shadow: none;

    &.card:hover {
        box-shadow: none;
        transform: none;
    }

    h2 {
        color: $moon-50;
        font-size: 40px;
        font-weight: $font-weight-semibold;
        font-family: "Source Sans Pro";
        line-height: 140%;
    }

    p {
        color: $moon-250;
        font-size: 20px;
        font-weight: $font-weight-regular;
        font-family: "Source Sans Pro";
        line-height: 140%;
    }
}

// Card Banner
.card-banner {
    @extend .banner-base;
    align-items: center;
    background: $moon-50;
    color: $moon-800;

    h2 {
        font-size: 24px;
        font-weight: $font-weight-semibold;
        color: $moon-900;
        margin: 0;
    }

    p {
        font-size: 16px;
        font-weight: $font-weight-regular;
        margin: 0;
    }

    &.card-banner-gray {
        &:hover {
            box-shadow: none;
            transform: none;
        }
    }

    // Icon container
    &-icon {
        display: flex;
        width: 64px;
        height: 64px;
        justify-content: center;
        align-items: center;
        border-radius: 100px;
        background: rgba($teal-300, 0.48);

        img {
            width: 32px;
            height: 32px;
        }
    }

    [data-bs-theme=dark] & {
        background: $dark-bg-secondary;
        color: $dark-text-primary;

        h2 {
            color: $dark-text-primary;
        }

        p {
            color: $dark-text-secondary;
        }
    }
}

// Add border radius to all images, code blocks and alerts
img, pre, .highlight, .code-toolbar, .alert {
  border-radius: $border-radius-medium !important;
}

// Style images and iframes consistently
img, iframe {
  margin-top: 1rem;
  margin-bottom: 2rem;
  max-width: 80% !important;
  display: block;
}

// Override section index heading font weight
.section-index h5 a, .section-index .h5 a {
  font-size: 20px !important;
  font-weight: 400 !important;
}

// Add dark mode styles using data-bs-theme attribute
[data-bs-theme=dark] {
    body {
        color: $dark-text-primary;
        background-color: $dark-bg-primary;
    }

    // Update sidebar nav colors for dark mode
    .td-sidebar-nav {
        a {
            color: $dark-text-secondary !important;
            &:hover {
                color: $dark-link-primary !important;
            }
            .td-sidebar-nav-active-item {
                color: $dark-link-primary !important;
            }
        }
    }

    // Update headings color for dark mode
    h1, h2, h3, h4, h5, h6 {
        color: $dark-text-primary;
    }

    // Update reading time color for dark mode
    .reading-time {
        color: $dark-text-secondary;
    }

    // Update table of contents color
    #TableOfContents {
        color: $dark-text-primary;
    }

    .td-footer {
        background-color: transparent !important;
        color: $dark-text-primary !important;
        border-top: 1px solid $moon-750 !important;
    }

    // Update border colors for dark mode
    .border,
    .border-top,
    .border-right,
    .border-bottom,
    .border-left {
        border-color: $dark-border-default !important;
        
        &:hover {
            border-color: $dark-border-hover !important;
        }
    }
}

// For light mode (default) borders
.border,
.border-top,
.border-right,
.border-bottom,
.border-left {
    border-color: $border-default !important;
    
    &:hover {
        border-color: $border-hover !important;
    }
}

// Footer Component
.td-footer {
    background-color: transparent !important;
    color: $text-primary !important;
    border-top: 1px solid $moon-200 !important;
    padding: 1.5rem 0 !important;
    min-height: auto !important;
    margin: 0 !important;
    
    // Container styles
    .container-fluid {
        padding: 0 2rem !important;
    }

    // Row alignment
    .row {
        align-items: center !important;
    }

    // Footer links
    &__links-item {
        margin-bottom: 0 !important;
    }

    // Links and icons
    a, i {
        color: inherit !important;
        transition: color 0.3s !important;

        &:hover {
            color: $link-hover !important;
        }
    }

    // Dark mode styles
    [data-bs-theme=dark] & {
        background-color: transparent !important;
        color: $dark-text-primary !important;
        border-top: 1px solid $moon-750 !important;

        a:hover,
        i:hover {
            color: $wandb-gold !important;
        }
    }
}

// Feedback Component
.td-content > .d-print-none {  // Target only the feedback section at bottom of content
    margin-top: 4rem;
    display: flex;
    align-items: center; // Vertically align all items
    flex-wrap: wrap; // Allow wrapping on smaller screens
    gap: 8px; // Consistent spacing between elements

    // Hide feedback title
    .feedback--title {
        display: none;
    }

    // Question styling
    .feedback--question {
        margin: 0; // Remove default margins
        padding-right: 16px; // Add some space between question and buttons
    }

    .btn {
        min-width: 50px;

        &.feedback--answer-no {
            margin: 0 !important;
        }
    }

    // Response styling
    .feedback--response {
        width: 100%; // Full width for responses
        margin-top: 1rem;
    }
}

// Feedback buttons
.feedback--answer {
    @extend .button-base;
    color: $moon-800 !important;
    background-color: $moon-100 !important;
    background-image: none !important;
    margin-right: 8px !important;
    box-shadow: none !important;
    display: inline-block !important;
    margin-bottom: 0 !important;
    border: none !important;

    &:hover {
        background-color: $hover-bg !important;
        text-decoration: none !important;
        border: none !important;
        box-shadow: none !important;
    }

    // Remove unwanted margin
    &.mb-4 {
        margin-bottom: 0 !important;
    }

    // Hide disabled buttons
    &:disabled {
        display: none !important;
    }

    // Dark mode styles
    [data-bs-theme=dark] & {
        color: $dark-text-primary !important;
        background-color: $dark-bg-secondary !important;
        border: none !important;
        
        &:hover {
            background-color: $dark-bg-tertiary !important;
            border: none !important;
            box-shadow: none !important;
        }
    }
}

// Last modified date
.td-content > .td-page-meta__lastmod {
    margin-top: 0 !important;
}

// Update the sidebar navigation styles
.td-sidebar-nav {
    font-family: "Source Sans Pro", sans-serif;
    padding-left: 15px !important;

    // Base link styles
    a {
        color: $text-secondary !important;
        font-weight: $font-weight-regular;
        text-decoration: none !important;

        &:hover {
            color: $link-primary !important;
            text-decoration: none !important;
        }
    }

    // Active item styles
    .td-sidebar-nav-active-item {
        color: $link-primary !important;
        font-weight: $font-weight-medium !important;
        text-decoration: none !important;

        &:hover {
            text-decoration: none !important;
        }
    }

    // Section title styles
    &__section-title {
        display: block;
        font-weight: $font-weight-regular !important;
        line-height: 19px;
        margin-bottom: 10px !important;
        margin-top: 5px !important;

        .active {
            font-weight: $font-weight-regular !important;
        }
        
        a {
            color: var(--bs-secondary-color);
            font-weight: $font-weight-regular !important;
        }
    }

    // Dark mode overrides
    [data-bs-theme=dark] & {
        a {
            color: $dark-text-secondary !important;
            
            &:hover {
                color: $dark-link-primary !important;
            }
        }

        .td-sidebar-nav-active-item {
            color: $dark-link-primary !important;
        }
    }
}

// DocSearch Component
.DocSearch {
    // Button styles
    &-Button {
        font-family: "Source Sans Pro", sans-serif;
        font-size: 16px;
        
        &:active,
        &:focus,
        &:hover {
            background: var(--docsearch-searchbox-focus-background);
            box-shadow: inset 0 0 0 2px $teal-500 !important;
            color: var(--docsearch-text-color);
            outline: none;
        }
    }

    // Modal styles
    &-Modal {
        border-radius: $border-radius-large !important;
    }

    // Hide footer
    &-Footer {
        display: none !important;
    }
}

// DocSearch Container with CSS Variables
.DocSearch-Container {
    font-family: "Source Sans Pro", sans-serif;
    font-size: 16px;

    // Light mode variables
    --docsearch-primary-color: #{$teal-500} !important;
    --docsearch-highlight-color: #{$teal-500} !important;
    --docsearch-text-color: #{$moon-800} !important;
    --docsearch-muted-color: #{$moon-500} !important;
    --docsearch-container-background: rgba(101, 108, 133, 0.8) !important;
    --docsearch-modal-background: #{$moon-white} !important;
    --docsearch-searchbox-background: #{$moon-100} !important;
    --docsearch-searchbox-focus-background: #{$moon-white} !important;
    --docsearch-hit-color: #{$moon-800} !important;
    --docsearch-hit-background: #{$moon-white} !important;
    --docsearch-hit-active-background: #{$teal-500} !important;
    --docsearch-footer-background: #{$moon-white} !important;
    --docsearch-logo-color: #{$teal-500} !important;
    --docsearch-key-gradient: linear-gradient(-26.5deg, #{$moon-200}, #{$moon-100}) !important;
    --docsearch-key-shadow: inset 0 -2px 0 0 #{$moon-300} !important;
    --docsearch-searchbox-shadow: inset 0 0 0 2px #{$teal-500} !important;

    // Search form styles
    .DocSearch-Form {
        border-radius: $border-radius-medium;
    }

    // Search results styles
    .DocSearch-Hit {
        border-radius: $border-radius-medium;
        
        a {
            border-radius: $border-radius-medium;
        }
    }

    // Dark mode styles
    [data-bs-theme=dark] & {
        --docsearch-primary-color: #{$teal-400} !important;
        --docsearch-highlight-color: #{$teal-400} !important;
        --docsearch-text-color: #{$moon-200} !important;
        --docsearch-muted-color: #{$moon-400} !important;
        --docsearch-container-background: rgba(21, 23, 31, 0.8) !important;
        --docsearch-modal-background: #{$moon-800} !important;
        --docsearch-searchbox-background: #{$moon-900} !important;
        --docsearch-searchbox-focus-background: #{$moon-900} !important;
        --docsearch-hit-color: #{$moon-200} !important;
        --docsearch-hit-background: #{$moon-800} !important;
        --docsearch-hit-active-background: #{$teal-400} !important;
        --docsearch-footer-background: #{$moon-800} !important;
        --docsearch-logo-color: #{$teal-400} !important;
        --docsearch-key-gradient: linear-gradient(-26.5deg, #{$moon-800}, #{$moon-750}) !important;
        --docsearch-key-shadow: inset 0 -2px 0 0 #{$moon-700} !important;
        --docsearch-searchbox-shadow: inset 0 0 0 2px #{$teal-400} !important;
    }

    .DocSearch-Hit-source {
        color: $text-secondary !important;
        font-size: 14px !important;
    }

    .DocSearch-Hit-title {
        font-size: 1rem !important;
    }

    // Dark mode styles
    [data-bs-theme=dark] & {
        .DocSearch-Hit-source {
            color: $dark-text-secondary !important;
            font-size: 14px !important;
        }

        .DocSearch-Hit-title {
            font-size: 1rem !important;
        }
    }
}

